<div class="innerContainer">
	<div id="taskContent{MD5TASKID}">
    	<p>
		    We are producing your report. <span id="taskProgress{MD5TASKID}"></span><br/>
            <br/>
            The progress bar may appear to stop functioning, when you are processing
            reports with a large amount of data.<br/>
            <br/>
            Please wait for at least 30 minutes before contacting our support. Thank you
            for being patient.
        </p>     
		<div id="taskProgressbar{MD5TASKID}" class="longProcessProgressbar" style="width: 70%; margin: 0 auto 0 125px; height: 15px;"></div>
	</div>
</div>
<script type="text/javascript">
/* <![CDATA[*/
$(function() {
	$("#taskProgressbar{MD5TASKID}").progressbar({ value: 5 });

	var reportResultPoller{MD5TASKID} = setInterval(function() {
		ajax({
			showWait: false,
			url: (_baseurl + "/feedback/retrieve?json=1&taskId={TASKID}"),
			type: "GET",
			success:
				function (result) {
					if (result != "") {
						var obj = jQuery.parseJSON(result);
						if (obj != null) {
							if (obj.statusCode == 'FINISHED') {
								clearInterval(reportResultPoller{MD5TASKID});
								$.ajax({
									  url: (_baseurl + "/feedback/retrieve?taskId={TASKID}&result=1"),
									  cache: true,
									  success: function(html){
									    $("#taskContent{MD5TASKID}").html(html);
									  }
								});
							} else {
								$("#taskProgress{MD5TASKID}").text("(" + obj.progress + "%)");
								$("#taskProgressbar{MD5TASKID}").progressbar("option", "value", obj.progress);
							}
						}
					}
				}
		});
	}, 2000);
});
//]]>
</script>